<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kaden Priebe ‚Äî Full Vision Mockup</title>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --bg: #ffffff;
    --text: #1a1a1a;
    --muted: #666666;
    --light-muted: #999;
    --border: rgba(0,0,0,0.06);
    --border-hover: rgba(0,0,0,0.12);
    --font-heading: 'Plus Jakarta Sans', sans-serif;
    --font-body: 'Inter', sans-serif;

    --hero-accent: #4f46e5;
    --hero-soft: #eef2ff;
    --about-accent: #0891b2;
    --about-soft: #ecfeff;
    --now-accent: #059669;
    --now-soft: #ecfdf5;
    --projects-accent: #d97706;
    --projects-soft: #fffbeb;
    --blog-accent: #7c3aed;
    --blog-soft: #f5f3ff;
    --links-accent: #e11d48;
    --links-soft: #fff1f2;
    --games-accent: #ea580c;
    --games-soft: #fff7ed;
  }

  html { font-size: 15px; -webkit-font-smoothing: antialiased; }
  body {
    font-family: var(--font-body);
    color: var(--text);
    background: var(--bg);
    line-height: 1.6;
    height: 100vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }
  ::selection { background: var(--hero-accent); color: #fff; }

  h1,h2,h3,h4 { font-family: var(--font-heading); letter-spacing: -0.02em; }

  /* ===== TOP NAV BAR ===== */
  .topbar {
    height: 48px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 1.5rem;
    flex-shrink: 0;
    background: rgba(255,255,255,0.9);
    backdrop-filter: blur(10px);
    z-index: 100;
  }
  .topbar-logo {
    font-family: var(--font-heading);
    font-weight: 700;
    font-size: 1rem;
    letter-spacing: -0.02em;
    color: var(--text);
    text-decoration: none;
  }
  .topbar-links { display: flex; gap: 1.5rem; }
  .topbar-links a {
    font-size: 0.8rem;
    color: var(--muted);
    text-decoration: none;
    transition: color 0.2s;
  }
  .topbar-links a:hover { color: var(--text); }

  /* ===== MAIN LAYOUT ===== */
  .layout {
    flex: 1;
    display: grid;
    grid-template-columns: 1fr 260px;
    grid-template-rows: 1fr auto;
    overflow: hidden;
    position: relative;
  }

  /* ===== CENTER CONTENT ===== */
  .center {
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 2rem 3rem;
    overflow-y: auto;
    border-right: 1px solid var(--border);
  }

  /* Hero */
  .hero-name {
    font-size: 3.2rem;
    font-weight: 800;
    line-height: 1.05;
    letter-spacing: -0.03em;
    margin-bottom: 0.6rem;
  }
  .hero-sub {
    font-size: 1rem;
    color: var(--muted);
    max-width: 28rem;
    margin-bottom: 1.5rem;
  }
  .hero-badges {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    margin-bottom: 1.75rem;
  }
  .badge {
    font-size: 0.72rem;
    font-weight: 500;
    padding: 0.25rem 0.7rem;
    border-radius: 20px;
  }

  .hero-btns {
    display: flex;
    gap: 0.75rem;
    margin-bottom: 2.5rem;
  }
  .hero-btns a {
    font-size: 0.82rem;
    font-weight: 500;
    padding: 0.5rem 1.2rem;
    border-radius: 6px;
    text-decoration: none;
    transition: all 0.2s;
  }
  .btn-p { background: var(--hero-accent); color: #fff; }
  .btn-p:hover { opacity: 0.85; }
  .btn-s { border: 1px solid var(--border-hover); color: var(--text); }
  .btn-s:hover { border-color: var(--hero-accent); color: var(--hero-accent); }

  /* Content sections in a compact bento-ish grid */
  .bento {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
  }
  .bento-card {
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 1rem;
    transition: border-color 0.2s, box-shadow 0.2s;
    cursor: pointer;
  }
  .bento-card:hover { box-shadow: 0 2px 12px rgba(0,0,0,0.04); }
  .bento-card h3 {
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
    display: flex;
    align-items: center;
    gap: 0.4rem;
  }
  .bento-card p {
    font-size: 0.78rem;
    color: var(--muted);
    line-height: 1.5;
  }
  .bento-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    flex-shrink: 0;
  }
  .bento-card .tag-row {
    display: flex;
    gap: 0.35rem;
    margin-top: 0.4rem;
    flex-wrap: wrap;
  }
  .mini-tag {
    font-size: 0.65rem;
    padding: 0.12rem 0.45rem;
    border-radius: 12px;
    font-weight: 500;
  }

  /* Specific card hover colors */
  .card-about:hover { border-color: rgba(8,145,178,0.25); }
  .card-projects:hover { border-color: rgba(217,119,6,0.25); }
  .card-blog:hover { border-color: rgba(124,58,237,0.25); }
  .card-now:hover { border-color: rgba(5,150,105,0.25); }
  .card-links:hover { border-color: rgba(225,29,72,0.25); }
  .card-games:hover { border-color: rgba(234,88,12,0.25); }

  /* Full-width bento card */
  .bento-full { grid-column: 1 / -1; }

  /* ===== RIGHT SIDEBAR ===== */
  .sidebar {
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
    padding: 1rem;
    overflow-y: auto;
    background: #fcfcfc;
  }
  .widget {
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 0.85rem;
    background: #fff;
    transition: border-color 0.2s;
  }
  .widget:hover { border-color: var(--border-hover); }
  .widget-label {
    font-size: 0.65rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.3rem;
  }
  .widget h4 {
    font-size: 0.82rem;
    font-weight: 600;
    margin-bottom: 0.2rem;
  }
  .widget p, .widget li {
    font-size: 0.75rem;
    color: var(--muted);
    line-height: 1.55;
  }
  .widget ul { padding-left: 1rem; }

  /* Now widget */
  .w-now .widget-label { color: var(--now-accent); }
  .w-now:hover { border-color: rgba(5,150,105,0.2); }

  /* Music widget */
  .w-music .widget-label { color: var(--blog-accent); }
  .w-music:hover { border-color: rgba(124,58,237,0.2); }
  .music-bar {
    display: flex;
    align-items: flex-end;
    gap: 2px;
    height: 18px;
    margin-top: 0.4rem;
  }
  .music-bar span {
    width: 3px;
    border-radius: 2px;
    background: var(--blog-accent);
    animation: bounce 0.8s ease-in-out infinite alternate;
  }
  .music-bar span:nth-child(1) { height: 6px; animation-delay: 0s; }
  .music-bar span:nth-child(2) { height: 12px; animation-delay: 0.15s; }
  .music-bar span:nth-child(3) { height: 8px; animation-delay: 0.3s; }
  .music-bar span:nth-child(4) { height: 16px; animation-delay: 0.1s; }
  .music-bar span:nth-child(5) { height: 10px; animation-delay: 0.25s; }
  @keyframes bounce {
    to { height: 4px; }
  }

  /* Coffee widget */
  .w-coffee .widget-label { color: var(--projects-accent); }
  .w-coffee:hover { border-color: rgba(217,119,6,0.2); }
  .coffee-cups { font-size: 1rem; letter-spacing: 2px; margin-top: 0.25rem; }

  /* Leaderboard widget */
  .w-leaderboard .widget-label { color: var(--games-accent); }
  .w-leaderboard:hover { border-color: rgba(234,88,12,0.2); }
  .lb-row {
    display: flex;
    justify-content: space-between;
    font-size: 0.73rem;
    padding: 0.3rem 0;
    border-bottom: 1px solid var(--border);
  }
  .lb-row:last-child { border-bottom: none; }
  .lb-rank { color: var(--muted); width: 20px; }
  .lb-name { flex: 1; }
  .lb-score { font-weight: 600; color: var(--games-accent); }

  /* Quick links widget */
  .w-links .widget-label { color: var(--links-accent); }
  .w-links:hover { border-color: rgba(225,29,72,0.2); }
  .quick-links { display: flex; flex-direction: column; gap: 0.3rem; }
  .quick-links a {
    font-size: 0.75rem;
    color: var(--muted);
    text-decoration: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.25rem 0;
    transition: color 0.2s;
  }
  .quick-links a:hover { color: var(--links-accent); }
  .quick-links a span { font-size: 0.7rem; }

  /* Easter egg widget */
  .w-eggs {
    border-style: dashed;
    background: repeating-linear-gradient(45deg, transparent, transparent 8px, rgba(0,0,0,0.008) 8px, rgba(0,0,0,0.008) 16px);
  }
  .w-eggs .widget-label { color: var(--light-muted); }
  .egg-progress {
    display: flex;
    gap: 4px;
    margin-top: 0.4rem;
  }
  .egg-found, .egg-hidden {
    width: 18px;
    height: 18px;
    border-radius: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.6rem;
  }
  .egg-found { background: #fef3c7; }
  .egg-hidden { background: #f3f4f6; color: #d1d5db; }

  /* ===== BOTTOM WORLD / CAR ZONE ===== */
  .world-bar {
    grid-column: 1 / -1;
    height: 120px;
    background: #fafafa;
    border-top: 1px solid var(--border);
    position: relative;
    overflow: hidden;
  }

  /* Ground */
  .ground {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50px;
    background: #f0f7f0;
    border-top: 2px solid #d1e7d1;
  }

  /* Road */
  .road {
    position: absolute;
    bottom: 0;
    height: 36px;
    background: #e5e7eb;
    border-top: 2px solid #d1d5db;
  }
  .road-main {
    left: 0;
    right: 0;
    bottom: 24px;
    height: 32px;
    z-index: 1;
  }
  .road-main::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 2px;
    background: repeating-linear-gradient(90deg, #fff 0, #fff 16px, transparent 16px, transparent 32px);
    transform: translateY(-50%);
  }

  /* Road exits to games */
  .road-exit {
    width: 32px;
    bottom: 56px;
    height: 64px;
    border-radius: 6px 6px 0 0;
    z-index: 0;
  }
  .road-exit::after {
    content: '';
    position: absolute;
    left: 50%;
    top: 0;
    bottom: 0;
    width: 2px;
    background: repeating-linear-gradient(180deg, #fff 0, #fff 8px, transparent 8px, transparent 16px);
    transform: translateX(-50%);
  }
  .exit-1 { left: 15%; }
  .exit-2 { left: 35%; }
  .exit-3 { left: 55%; }
  .exit-4 { left: 75%; }

  /* Game signs above road exits */
  .game-sign {
    position: absolute;
    bottom: 88px;
    transform: translateX(-50%);
    background: #fff;
    border: 1.5px solid;
    border-radius: 8px;
    padding: 0.2rem 0.5rem;
    font-size: 0.6rem;
    font-family: var(--font-heading);
    font-weight: 600;
    white-space: nowrap;
    z-index: 5;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  }
  .sign-1 { left: calc(15% + 16px); border-color: rgba(234,88,12,0.3); color: var(--games-accent); }
  .sign-2 { left: calc(35% + 16px); border-color: rgba(124,58,237,0.3); color: var(--blog-accent); }
  .sign-3 { left: calc(55% + 16px); border-color: rgba(5,150,105,0.3); color: var(--now-accent); }
  .sign-4 { left: calc(75% + 16px); border-color: rgba(217,119,6,0.3); color: var(--projects-accent); }

  /* Sign poles */
  .sign-pole {
    position: absolute;
    bottom: 56px;
    width: 2px;
    height: 32px;
    background: #d1d5db;
    z-index: 4;
  }
  .pole-1 { left: calc(15% + 16px); }
  .pole-2 { left: calc(35% + 16px); }
  .pole-3 { left: calc(55% + 16px); }
  .pole-4 { left: calc(75% + 16px); }

  /* Decorative elements */
  .tree {
    position: absolute;
    bottom: 50px;
    z-index: 3;
    font-size: 1.4rem;
    filter: drop-shadow(0 2px 2px rgba(0,0,0,0.08));
  }

  /* Car */
  #car {
    position: absolute;
    bottom: 30px;
    left: 50px;
    z-index: 10;
    font-size: 1.4rem;
    transition: none;
    cursor: grab;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.15));
    user-select: none;
  }
  #car.flip { transform: scaleX(-1); }

  /* Prompt */
  .drive-hint {
    position: absolute;
    bottom: 6px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.65rem;
    color: var(--light-muted);
    font-family: var(--font-body);
    display: flex;
    align-items: center;
    gap: 0.4rem;
    z-index: 20;
  }
  .key-hint {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    border: 1px solid var(--border-hover);
    border-radius: 4px;
    font-size: 0.55rem;
    background: #fff;
    box-shadow: 0 1px 2px rgba(0,0,0,0.06);
  }

  /* Game portal overlay */
  .portal-flash {
    position: fixed;
    inset: 0;
    background: #fff;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 0.75rem;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s;
  }
  .portal-flash.active {
    opacity: 1;
    pointer-events: all;
  }
  .portal-flash h2 {
    font-family: var(--font-heading);
    font-size: 1.8rem;
    font-weight: 800;
  }
  .portal-flash p {
    color: var(--muted);
    font-size: 0.95rem;
  }
  .portal-flash .back-btn {
    margin-top: 0.5rem;
    font-size: 0.82rem;
    padding: 0.4rem 1rem;
    border-radius: 6px;
    border: 1px solid var(--border-hover);
    background: none;
    cursor: pointer;
    font-family: var(--font-body);
    transition: all 0.2s;
  }
  .portal-flash .back-btn:hover { border-color: var(--text); }
</style>
</head>
<body>

<!-- TOP BAR -->
<div class="topbar">
  <a href="#" class="topbar-logo">kaden priebe</a>
  <div class="topbar-links">
    <a href="#">who's this guy?</a>
    <a href="#">what i've built</a>
    <a href="#">random thoughts</a>
    <a href="#">let's talk</a>
  </div>
</div>

<!-- MAIN LAYOUT -->
<div class="layout">

  <!-- ===== CENTER CONTENT ===== -->
  <div class="center">
    <div>
      <h1 class="hero-name">hey, i'm kaden.</h1>
      <p class="hero-sub">cornell student. researcher. builder of things. i like making stuff that's actually fun to use.</p>

      <div class="hero-badges">
        <span class="badge" style="background: var(--about-soft); color: var(--about-accent);">Cornell '28</span>
        <span class="badge" style="background: var(--now-soft); color: var(--now-accent);">Researcher</span>
        <span class="badge" style="background: var(--blog-soft); color: var(--blog-accent);">Creator</span>
        <span class="badge" style="background: var(--projects-soft); color: var(--projects-accent);">Builder</span>
      </div>

      <div class="hero-btns">
        <a href="#" class="btn-p">see what i've built ‚Üí</a>
        <a href="#" class="btn-s">the backstory</a>
      </div>

      <!-- Bento grid of all sections -->
      <div class="bento">
        <!-- About -->
        <div class="bento-card card-about">
          <h3><span class="bento-dot" style="background: var(--about-accent);"></span> who's this guy?</h3>
          <p>Bio, cancer research, Cornell life, and why I build things.</p>
          <div class="tag-row">
            <span class="mini-tag" style="background: var(--about-soft); color: var(--about-accent);">Bio</span>
            <span class="mini-tag" style="background: var(--about-soft); color: var(--about-accent);">Story</span>
          </div>
        </div>

        <!-- Projects -->
        <div class="bento-card card-projects">
          <h3><span class="bento-dot" style="background: var(--projects-accent);"></span> what i've built</h3>
          <p>Course planner, neural decoding,  and more.</p>
          <div class="tag-row">
            <span class="mini-tag" style="background: var(--projects-soft); color: var(--projects-accent);">4 projects</span>
            <span class="mini-tag" style="background: var(--projects-soft); color: var(--projects-accent);">ML ¬∑ Web</span>
          </div>
        </div>

        <!-- Blog -->
        <div class="bento-card card-blog">
          <h3><span class="bento-dot" style="background: var(--blog-accent);"></span> random thoughts</h3>
          <p>Writing about building, learning, and life at Cornell.</p>
          <div class="tag-row">
            <span class="mini-tag" style="background: var(--blog-soft); color: var(--blog-accent);">3 posts</span>
          </div>
        </div>

        <!-- Now -->
        <div class="bento-card card-now">
          <h3><span class="bento-dot" style="background: var(--now-accent);"></span> right now</h3>
          <p>Lab research, ML coursework, side projects, and YouTube.</p>
          <div class="tag-row">
            <span class="mini-tag" style="background: var(--now-soft); color: var(--now-accent);">Feb 2026</span>
          </div>
        </div>

        <!-- Games ‚Äî full width -->
        <div class="bento-card card-games bento-full">
          <h3><span class="bento-dot" style="background: var(--games-accent);"></span> play something</h3>
          <p>Snake, trivia, type racer, puzzles ‚Äî compete on the leaderboard or just waste time. Or... drive the car below into a road. üöó</p>
          <div class="tag-row">
            <span class="mini-tag" style="background: var(--games-soft); color: var(--games-accent);">6 games</span>
            <span class="mini-tag" style="background: var(--games-soft); color: var(--games-accent);">Leaderboard</span>
            <span class="mini-tag" style="background: var(--games-soft); color: var(--games-accent);">No login</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== RIGHT SIDEBAR ===== -->
  <div class="sidebar">
    <!-- Currently -->
    <div class="widget w-now">
      <div class="widget-label"><span>üü¢</span> Currently</div>
      <h4>In the lab</h4>
      <p>Running gene expression analysis on MCF7 tumor samples</p>
    </div>

    <!-- Music -->
    <div class="widget w-music">
      <div class="widget-label"><span>üéµ</span> Listening to</div>
      <h4>Redbone</h4>
      <p>Childish Gambino</p>
      <div class="music-bar">
        <span></span><span></span><span></span><span></span><span></span>
      </div>
    </div>

    <!-- Coffee -->
    <div class="widget w-coffee">
      <div class="widget-label"><span>‚òï</span> Coffee today</div>
      <div class="coffee-cups">‚òï‚òï‚òï<span style="opacity:0.2;">‚òï‚òï</span></div>
      <p style="margin-top:0.25rem;">3 of 5 (it's only 2pm)</p>
    </div>

    <!-- Leaderboard -->
    <div class="widget w-leaderboard">
      <div class="widget-label"><span>üèÜ</span> Top Scores</div>
      <div class="lb-row"><span class="lb-rank">1</span><span class="lb-name">speedster42</span><span class="lb-score">12,450</span></div>
      <div class="lb-row"><span class="lb-rank">2</span><span class="lb-name">cornell_gamer</span><span class="lb-score">11,200</span></div>
      <div class="lb-row"><span class="lb-rank">3</span><span class="lb-name">big_red_fan</span><span class="lb-score">8,340</span></div>
      <div class="lb-row"><span class="lb-rank">4</span><span class="lb-name" style="color:var(--light-muted);">you?</span><span class="lb-score" style="color:var(--light-muted);">‚Äî</span></div>
    </div>

    <!-- Quick links -->
    <div class="widget w-links">
      <div class="widget-label"><span>üîó</span> Connect</div>
      <div class="quick-links">
        <a href="#">YouTube <span>‚Üí</span></a>
        <a href="#">GitHub <span>‚Üí</span></a>
        <a href="#">LinkedIn <span>‚Üí</span></a>
        <a href="#">Email <span>‚Üí</span></a>
      </div>
    </div>

    <!-- Easter eggs -->
    <div class="widget w-eggs">
      <div class="widget-label"><span>ü•ö</span> Secrets found</div>
      <div class="egg-progress">
        <span class="egg-found">ü•ö</span>
        <span class="egg-found">ü•ö</span>
        <span class="egg-hidden">?</span>
        <span class="egg-hidden">?</span>
        <span class="egg-hidden">?</span>
        <span class="egg-hidden">?</span>
        <span class="egg-hidden">?</span>
      </div>
      <p style="margin-top:0.35rem;">2 of 7 ‚Äî keep exploring</p>
    </div>
  </div>

  <!-- ===== BOTTOM WORLD BAR ===== -->
  <div class="world-bar" id="world">
    <!-- Ground -->
    <div class="ground"></div>

    <!-- Main road -->
    <div class="road road-main"></div>

    <!-- Road exits leading to games -->
    <div class="road road-exit exit-1"></div>
    <div class="road road-exit exit-2"></div>
    <div class="road road-exit exit-3"></div>
    <div class="road road-exit exit-4"></div>

    <!-- Sign poles -->
    <div class="sign-pole pole-1"></div>
    <div class="sign-pole pole-2"></div>
    <div class="sign-pole pole-3"></div>
    <div class="sign-pole pole-4"></div>

    <!-- Game signs -->
    <div class="game-sign sign-1">üêç Snake</div>
    <div class="game-sign sign-2">üß† Trivia</div>
    <div class="game-sign sign-3">‚å®Ô∏è Type Racer</div>
    <div class="game-sign sign-4">üéØ Click Challenge</div>

    <!-- Trees -->
    <div class="tree" style="left: 5%; bottom: 52px;">üå≥</div>
    <div class="tree" style="left: 25%; bottom: 52px;">üå≤</div>
    <div class="tree" style="left: 45%; bottom: 52px;">üå≥</div>
    <div class="tree" style="left: 65%; bottom: 52px;">üå≤</div>
    <div class="tree" style="left: 88%; bottom: 52px;">üå≥</div>

    <!-- Drivable car -->
    <div id="car">üöó</div>

    <!-- Drive hint -->
    <div class="drive-hint">
      <span class="key-hint">‚Üê</span>
      <span class="key-hint">‚Üí</span>
      drive into a road to play
    </div>
  </div>

</div>

<!-- Game portal overlay -->
<div class="portal-flash" id="portal">
  <h2 id="portal-title">üêç Snake</h2>
  <p id="portal-desc">Loading game...</p>
  <button class="back-btn" onclick="closePortal()">‚Üê back to site</button>
</div>

<script>
  // Car driving logic
  const car = document.getElementById('car');
  const world = document.getElementById('world');
  const portal = document.getElementById('portal');
  const portalTitle = document.getElementById('portal-title');
  const portalDesc = document.getElementById('portal-desc');

  let carX = 50;
  let carSpeed = 0;
  let keys = {};
  let carDirection = 1; // 1 = right, -1 = left

  // Road exit zones (percentage of world width)
  const exits = [
    { center: 15, label: 'üêç Snake', desc: 'Classic arcade ‚Äî eat, grow, don\'t crash.' },
    { center: 35, label: 'üß† Trivia', desc: 'Cornell facts & science questions.' },
    { center: 55, label: '‚å®Ô∏è Type Racer', desc: 'Speed-type real code snippets.' },
    { center: 75, label: 'üéØ Click Challenge', desc: 'How fast can you click?' },
  ];

  document.addEventListener('keydown', e => {
    keys[e.key] = true;
    if (['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'].includes(e.key)) {
      e.preventDefault();
    }
  });
  document.addEventListener('keyup', e => { keys[e.key] = false; });

  function gameLoop() {
    const worldWidth = world.offsetWidth;

    // Acceleration
    if (keys['ArrowRight']) {
      carSpeed = Math.min(carSpeed + 0.5, 6);
      carDirection = 1;
    } else if (keys['ArrowLeft']) {
      carSpeed = Math.max(carSpeed - 0.5, -6);
      carDirection = -1;
    } else {
      // Friction
      carSpeed *= 0.92;
      if (Math.abs(carSpeed) < 0.1) carSpeed = 0;
    }

    carX += carSpeed;

    // Bounds
    if (carX < 10) { carX = 10; carSpeed = 0; }
    if (carX > worldWidth - 30) { carX = worldWidth - 30; carSpeed = 0; }

    car.style.left = carX + 'px';

    // Flip direction
    if (carDirection === -1) {
      car.classList.add('flip');
    } else {
      car.classList.remove('flip');
    }

    // Check exit zones ‚Äî drive up
    if (keys['ArrowUp']) {
      const carPercent = (carX / worldWidth) * 100;
      for (const exit of exits) {
        if (Math.abs(carPercent - exit.center) < 4) {
          openPortal(exit.label, exit.desc);
          keys['ArrowUp'] = false;
          break;
        }
      }
    }

    requestAnimationFrame(gameLoop);
  }

  function openPortal(title, desc) {
    portalTitle.textContent = title;
    portalDesc.textContent = desc;
    portal.classList.add('active');
  }

  function closePortal() {
    portal.classList.remove('active');
  }

  // Close with Escape
  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') closePortal();
  });

  gameLoop();
</script>

</body>
</html>
